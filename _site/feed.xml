<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="http://jekyllrb.com" version="3.3.1">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2016-12-19T17:45:02+08:00</updated><id>http://localhost:4000/</id><title>Leap Framework</title><subtitle>全栈式的web应用开发框架</subtitle><entry><title>leap性能测试</title><link href="http://localhost:4000/leap0.4.0b%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/" rel="alternate" type="text/html" title="leap性能测试" /><published>2016-12-19T00:00:00+08:00</published><updated>2016-12-19T00:00:00+08:00</updated><id>http://localhost:4000/leap0.4.0b性能测试</id><content type="html" xml:base="http://localhost:4000/leap0.4.0b%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">&lt;p&gt;这是leap0.4.0b版本和其他java框架的简单性能测试比较。&lt;/p&gt;

&lt;p&gt;本文针对leap的0.4.0b版本做一个简单的性能测试，参考github项目&lt;a href=&quot;https://github.com/networknt/light-java-example/performance&quot;&gt;light-java-example&lt;/a&gt;，从这个项目fork了一个分支&lt;a href=&quot;https://github.com/kael-aiur/light-java-example/tree/leap/performance&quot;&gt;leap分支&lt;/a&gt;，切换到leap分支之后把所有使用maven的项目在同一台机器使用&lt;a href=&quot;https://github.com/wg/wrk&quot;&gt;wrk&lt;/a&gt;重新测试得到的结果。&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;测试结果&lt;/h2&gt;

&lt;p&gt;总的测试结果如下：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;框架&lt;/th&gt;
      &lt;th&gt;最大吞吐量（tps）&lt;/th&gt;
      &lt;th&gt;平均延迟&lt;/th&gt;
      &lt;th&gt;数据传输量&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;light-java&lt;/td&gt;
      &lt;td&gt;314598.20&lt;/td&gt;
      &lt;td&gt;3.50ms&lt;/td&gt;
      &lt;td&gt;31.80MB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;leap&lt;/td&gt;
      &lt;td&gt;81595.97&lt;/td&gt;
      &lt;td&gt;17.33ms&lt;/td&gt;
      &lt;td&gt;12.53MB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;spark&lt;/td&gt;
      &lt;td&gt;74712.77&lt;/td&gt;
      &lt;td&gt;18.25ms&lt;/td&gt;
      &lt;td&gt;12.47MB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ratpack&lt;/td&gt;
      &lt;td&gt;67327.07&lt;/td&gt;
      &lt;td&gt;18.17ms&lt;/td&gt;
      &lt;td&gt;5.84MB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;jooby&lt;/td&gt;
      &lt;td&gt;43496.72&lt;/td&gt;
      &lt;td&gt;29.90ms&lt;/td&gt;
      &lt;td&gt;6.26MB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;spring-boot-undertow&lt;/td&gt;
      &lt;td&gt;20908.40&lt;/td&gt;
      &lt;td&gt;55.77ms&lt;/td&gt;
      &lt;td&gt;3.03MB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;wildfly-swarm&lt;/td&gt;
      &lt;td&gt;19053.41&lt;/td&gt;
      &lt;td&gt;76.74ms&lt;/td&gt;
      &lt;td&gt;2.51MB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;spring-boot-tomcat&lt;/td&gt;
      &lt;td&gt;12454.02&lt;/td&gt;
      &lt;td&gt;99.19ms&lt;/td&gt;
      &lt;td&gt;1.50MB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Dropwizard&lt;/td&gt;
      &lt;td&gt;8904.86&lt;/td&gt;
      &lt;td&gt;258.15ms&lt;/td&gt;
      &lt;td&gt;1.16MB&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;section-1&quot;&gt;测试数据&lt;/h2&gt;

&lt;p&gt;这里列出每个框架的测试结果具体方式和数据。为保证测试数据的准确性，每个框架的测试需要重复进行三到四次测试，取性能最好的一次以便得到框架的最高性能。&lt;/p&gt;

&lt;h3 id=&quot;dropwizard&quot;&gt;Dropwizard&lt;/h3&gt;

&lt;p&gt;使用如下指令运行：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; cd dropwizard/
$&amp;gt; mvn clean package
$&amp;gt; java -jar target/dropwizard-simple.jar server
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;运行如下测试：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; wrk -t4 -c128 -d30s http://localhost:8080 -s pipeline.lua --latency -- / 16 Running 30s test @ http://localhost:8080
Running 30s test @ http://localhost:8080
  4 threads and 128 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   258.15ms  209.04ms   1.29s    69.86%
    Req/Sec     2.24k   593.62     4.74k    68.64%
  Latency Distribution
     50%  202.00ms
     75%  378.36ms
     90%  570.02ms
     99%  862.24ms
  267830 requests in 30.08s, 34.99MB read
Requests/sec:   8904.86
Transfer/sec:      1.16MB
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;jooby&quot;&gt;jooby&lt;/h3&gt;

&lt;p&gt;使用如下指令运行:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; cd jooby/
$&amp;gt; mvn clean package
$&amp;gt; java -jar target/jooby-1.0-SNAPSHOT.jar
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;运行如下指令测试：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; wrk -t4 -c128 -d30s http://localhost:8080 -s pipeline.lua --latency -- / 16 Running 30s test @ http://localhost:8080
Running 30s test @ http://localhost:8080
  4 threads and 128 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    29.90ms   18.98ms 202.59ms   66.04%
    Req/Sec    10.93k     1.75k   17.50k    74.32%
  Latency Distribution
     50%   27.07ms
     75%   42.05ms
     90%   55.55ms
     99%   82.73ms
  1305712 requests in 30.02s, 188.03MB read
Requests/sec:  43496.72
Transfer/sec:      6.26MB
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;leap&quot;&gt;leap&lt;/h3&gt;

&lt;p&gt;使用如下指令运行：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; cd leapframework/
$&amp;gt; mvn clean jetty:run
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;运行如下指令测试：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; wrk -t4 -c128 -d30s http://localhost:8080 -s pipeline.lua --latency -- / 16 Running 30s test @ http://localhost:8080
Running 30s test @ http://localhost:8080
  4 threads and 128 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    17.33ms   16.41ms 242.46ms   92.19%
    Req/Sec    20.53k     2.27k   43.11k    73.60%
  Latency Distribution
     50%   13.99ms
     75%   21.60ms
     90%   30.78ms
     99%   93.00ms
  2456010 requests in 30.10s, 377.10MB read
Requests/sec:  81595.97
Transfer/sec:     12.53MB
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;light-java&quot;&gt;light-java&lt;/h3&gt;

&lt;p&gt;使用如下指令运行：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; cd light-java/
$&amp;gt; mvn clean package
$&amp;gt; java -jar target/swagger-light-java-1.0.0.jar
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;运行如下指令测试：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; wrk -t4 -c128 -d30s http://localhost:8080 -s pipeline.lua --latency -- / 16 Running 30s test @ http://localhost:8080
Running 30s test @ http://localhost:8080
  4 threads and 128 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     3.50ms    2.03ms  47.78ms   66.37%
    Req/Sec    79.16k     5.13k  124.80k    88.51%
  Latency Distribution
     50%    3.99ms
     75%    5.55ms
     90%    9.45ms
     99%    0.00us
  9469760 requests in 30.10s, 0.93GB read
Requests/sec: 314598.20
Transfer/sec:     31.80MB
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;ratpack&quot;&gt;ratpack&lt;/h3&gt;

&lt;p&gt;使用如下指令运行：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; cd ratpack/
$&amp;gt; mvn clean package
$&amp;gt; java -jar target/ratpack-0.0.1-SNAPSHOT.jar
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;运行如下指令测试：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; wrk -t4 -c128 -d30s http://localhost:5050 -s pipeline.lua --latency -- / 16 Running 30s test @ http://localhost:5050
Running 30s test @ http://localhost:5050
  4 threads and 128 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    18.17ms   10.56ms  82.78ms   61.82%
    Req/Sec    16.97k     2.03k   54.72k    79.91%
  Latency Distribution
     50%   18.09ms
     75%   27.49ms
     90%   36.83ms
     99%    0.00us
  2026541 requests in 30.10s, 175.87MB read
Requests/sec:  67327.07
Transfer/sec:      5.84MB
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;spark&quot;&gt;spark&lt;/h3&gt;

&lt;p&gt;使用如下指令运行：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; cd psark/
$&amp;gt; mvn clean package
$&amp;gt; java -jar target/spark-0.0.1-SNAPSHOT.jar 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;运行如下指令测试：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; wrk -t4 -c128 -d30s http://localhost:4567 -s pipeline.lua --latency -- / 16 Running 30s test @ http://localhost:4567
Running 30s test @ http://localhost:4567
  4 threads and 128 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    18.25ms   14.64ms 237.60ms   81.18%
    Req/Sec    18.79k     1.60k   24.08k    70.95%
  Latency Distribution
     50%   15.22ms
     75%   23.98ms
     90%   34.66ms
     99%   73.07ms
  2244768 requests in 30.05s, 374.64MB read
Requests/sec:  74712.77
Transfer/sec:     12.47MB
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;spring-boot-tomcat&quot;&gt;spring-boot-tomcat&lt;/h3&gt;

&lt;p&gt;使用如下指令运行：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; cd spring-boot-tomcat/
$&amp;gt; mvn clean package
$&amp;gt; java -jar target/myproject-0.0.1-SNAPSHOT.jar
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;运行如下指令测试：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; wrk -t4 -c128 -d30s http://localhost:8080 -s pipeline.lua --latency -- / 16 Running 30s test @ http://localhost:8080
Running 30s test @ http://localhost:8080
  4 threads and 128 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    99.19ms   66.36ms 532.93ms   68.79%
    Req/Sec     3.14k   550.01     8.40k    72.96%
  Latency Distribution
     50%   86.77ms
     75%  138.83ms
     90%  191.70ms
     99%  295.43ms
  374620 requests in 30.08s, 45.08MB read
Requests/sec:  12454.02
Transfer/sec:      1.50MB
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;spring-boot-undertow&quot;&gt;spring-boot-undertow&lt;/h3&gt;

&lt;p&gt;使用如下指令运行：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; cd spring-boot-undertow/
$&amp;gt; mvn clean package
$&amp;gt; java -jar target/myproject-0.0.1-SNAPSHOT.jar
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;运行如下指令测试：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; wrk -t4 -c128 -d30s http://localhost:8080 -s pipeline.lua --latency -- / 16 Running 30s test @ http://localhost:8080
Running 30s test @ http://localhost:8080
  4 threads and 128 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    55.77ms   31.15ms 453.70ms   63.99%
    Req/Sec     5.27k     1.49k   10.08k    81.61%
  Latency Distribution
     50%   58.56ms
     75%   83.09ms
     90%  105.99ms
     99%    0.00us
  627984 requests in 30.04s, 91.03MB read
Requests/sec:  20908.40
Transfer/sec:      3.03MB
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;wildfly-swarm&quot;&gt;wildfly-swarm&lt;/h3&gt;

&lt;p&gt;使用如下指令运行：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; cd wildfly-swarm/
$&amp;gt; mvn clean package
$&amp;gt; java -jar target/demo-swarm.jar
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;运行如下指令测试：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; wrk -t4 -c128 -d30s http://localhost:8080 -s pipeline.lua --latency -- / 16 Running 30s test @ http://localhost:8080
Running 30s test @ http://localhost:8080
  4 threads and 128 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    76.74ms   60.91ms 638.06ms   78.13%
    Req/Sec     4.80k   674.76     7.32k    76.29%
  Latency Distribution
     50%   62.64ms
     75%  100.79ms
     90%  153.82ms
     99%  296.78ms
  573411 requests in 30.09s, 75.46MB read
Requests/sec:  19053.41
Transfer/sec:      2.51MB
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;</content><author><name>Kael</name></author><summary>这是leap0.4.0b版本和其他java框架的简单性能测试比较。</summary></entry><entry><title>web快速开始</title><link href="http://localhost:4000/web%E5%BA%94%E7%94%A8/" rel="alternate" type="text/html" title="web快速开始" /><published>2016-12-12T00:00:00+08:00</published><updated>2016-12-12T00:00:00+08:00</updated><id>http://localhost:4000/web应用</id><content type="html" xml:base="http://localhost:4000/web%E5%BA%94%E7%94%A8/">&lt;p&gt;快速搭建web开发环境&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;创建工程环境&lt;/h2&gt;

&lt;p&gt;首先使用maven创建一个标准的工程模板：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; mvn archetype:generate \
-DgroupId=leap.demo \
-DartifactId=demo \
-Dversion=1.0 \
-DinteractiveMode=false \
-DarchetypeArtifactId=maven-archetype-webapp
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;创建完成的目录结构如下：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;demo/
├── pom.xml
└── src
    └── main
        ├── resources
        └── webapp
            ├── index.jsp
            └── WEB-INF
                └── web.xml
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;根据模板生成的目录目前还不是标准的leap目录，我们需要手动创建一些目录和文件才能搭建成标准的leap开发工程，具体如下：&lt;/p&gt;

&lt;p&gt;1 创建源码目录和测试目录：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; cd demo

// 创建目录
$&amp;gt; mkdir src/main/java
$&amp;gt; mkdir src/main/resources/conf
$&amp;gt; mkdir src/test/resources -p
$&amp;gt; mkdir src/test/java
$&amp;gt; mkdir mkdir src/main/webapp/WEB-INF/views
$&amp;gt; mkdir src/main/webapp/static

// 创建文件

$&amp;gt; echo &amp;gt;&amp;gt; src/main/resources/conf/config.xml
$&amp;gt; echo &amp;gt;&amp;gt; src/main/webapp/WEB-INF/views/index.html
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;创建完成之后我们的完整目录结构如下：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;demo
├── pom.xml
└── src
    ├── main
    │   ├── java
    │   ├── resources
    │   │   └── conf
    │   │       └── config.xml
    │   └── webapp
    │       ├── index.jsp
    │       ├── static
    │       └── WEB-INF
    │           ├── views
    │           │   └── index.html
    │           └── web.xml
    └── test
        ├── java
        └── resources
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;修改几个关键配置：&lt;/p&gt;

&lt;p&gt;src/main/resources/conf/config.xml&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;config&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xmlns=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.leapframework.org/schema/config&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xmlns:orm=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.leapframework.org/schema/orm/config&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- 指定leap扫描的包 --&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;base-package&amp;gt;&lt;/span&gt;leap.demo&lt;span class=&quot;nt&quot;&gt;&amp;lt;/base-package&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/config&amp;gt;&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;src/main/webapp/WEB-INF/web.xml&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;web-app&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;display-name&amp;gt;&lt;/span&gt;Archetype Created Web Application&lt;span class=&quot;nt&quot;&gt;&amp;lt;/display-name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;filter&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;filter-name&amp;gt;&lt;/span&gt;app-filter&lt;span class=&quot;nt&quot;&gt;&amp;lt;/filter-name&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;filter-class&amp;gt;&lt;/span&gt;leap.web.AppFilter&lt;span class=&quot;nt&quot;&gt;&amp;lt;/filter-class&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/filter&amp;gt;&lt;/span&gt;                   
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;filter-mapping&amp;gt;&lt;/span&gt;                
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;filter-name&amp;gt;&lt;/span&gt;app-filter&lt;span class=&quot;nt&quot;&gt;&amp;lt;/filter-name&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;url-pattern&amp;gt;&lt;/span&gt;/*&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url-pattern&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/filter-mapping&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/web-app&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;pom.xml&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;project&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xmlns=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xmlns:xsi=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;
         &lt;span class=&quot;na&quot;&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;modelVersion&amp;gt;&lt;/span&gt;4.0.0&lt;span class=&quot;nt&quot;&gt;&amp;lt;/modelVersion&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;leap.demo&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;demo&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;packaging&amp;gt;&lt;/span&gt;war&lt;span class=&quot;nt&quot;&gt;&amp;lt;/packaging&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;demo Maven Webapp&lt;span class=&quot;nt&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://maven.apache.org&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- 配置leap的仓库 --&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;repositories&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- leap快照资源库 --&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;leap-snapshots&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;https://raw.githubusercontent.com/leapframework/repo/master/snapshots&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;snapshots&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;true&lt;span class=&quot;nt&quot;&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;updatePolicy&amp;gt;&lt;/span&gt;always&lt;span class=&quot;nt&quot;&gt;&amp;lt;/updatePolicy&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;checksumPolicy&amp;gt;&lt;/span&gt;warn&lt;span class=&quot;nt&quot;&gt;&amp;lt;/checksumPolicy&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/snapshots&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;nt&quot;&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;leap-releases&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;https://raw.githubusercontent.com/leapframework/repo/master/releases&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;releases&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;true&lt;span class=&quot;nt&quot;&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;updatePolicy&amp;gt;&lt;/span&gt;never&lt;span class=&quot;nt&quot;&gt;&amp;lt;/updatePolicy&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;checksumPolicy&amp;gt;&lt;/span&gt;warn&lt;span class=&quot;nt&quot;&gt;&amp;lt;/checksumPolicy&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/releases&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/repositories&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;dependencies&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;junit&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;junit&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.8.1&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;scope&amp;gt;&lt;/span&gt;test&lt;span class=&quot;nt&quot;&gt;&amp;lt;/scope&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- 配置leap的依赖 --&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.leapframework&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;leap&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.4.0b-SNAPSHOT&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;pom&lt;span class=&quot;nt&quot;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependencies&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;finalName&amp;gt;&lt;/span&gt;demo&lt;span class=&quot;nt&quot;&gt;&amp;lt;/finalName&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- 配置jetty运行插件 --&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.eclipse.jetty&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;jetty-maven-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;9.2.8.v20150217&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/project&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;src/main/webapp/WEB-INF/views/index.html&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;lang=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;charset=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;leap&lt;span class=&quot;nt&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
    hello ${name}!
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;配置完成。&lt;/p&gt;

&lt;p&gt;现在我们先添加初始化代码：&lt;/p&gt;

&lt;p&gt;创建包&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; mkdir src/main/java/leap/demo/controller -p
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;创建Global类和HomeController类&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; echo &amp;gt;&amp;gt; src/main/java/leap/demo/Global.java
$&amp;gt; echo &amp;gt;&amp;gt; src/main/java/leap/demo/controller/HomeController.java
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;编辑两个类：&lt;/p&gt;

&lt;p&gt;Global.java&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;leap.web.App&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Global&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;App&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Throwable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;app init.&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;HomeController.java&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;demo.bean.BeanService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;leap.core.annotation.Inject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;leap.web.view.ViewData&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HomeController&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@Inject&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BeanService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ViewData&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;vd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;现在可以用jetty运行我们的应用了。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; mvn jetty:run -Djetty.port=8888
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;现在在浏览器中访问&lt;code class=&quot;highlighter-rouge&quot;&gt;http://localhost:8888?name=leap&lt;/code&gt;，即可看到页面打印如下字符串：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;hello leap!
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;基础的web环境搭建完成，接下来就可以根据需要添加数据库配置和bean配置了，具体的配置方案请查阅官方文档。&lt;/p&gt;</content><author><name>Kael</name></author><category term="web,快速开始" /><summary>快速搭建web开发环境</summary></entry><entry><title>api快速开始</title><link href="http://localhost:4000/api%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/" rel="alternate" type="text/html" title="api快速开始" /><published>2016-12-12T00:00:00+08:00</published><updated>2016-12-12T00:00:00+08:00</updated><id>http://localhost:4000/api快速开始</id><content type="html" xml:base="http://localhost:4000/api%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/">&lt;p&gt;快速搭建api开发环境&lt;/p&gt;

&lt;h2 id=&quot;web&quot;&gt;准备web环境&lt;/h2&gt;

&lt;p&gt;leap web api开发工程基于leap web工程搭建，在开始搭建web api工程之前，请先按照&lt;a href=&quot;/web%E5%BA%94%E7%94%A8/&quot;&gt;web工程快速开始&lt;/a&gt;搭建web开发工程。&lt;/p&gt;

&lt;p&gt;最终搭建完成的web工程目录结构如下：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;demo/
├── pom.xml
└── src
    ├── main
    │   ├── java
    │   │   └── leap
    │   │       └── demo
    │   │           ├── controller
    │   │           │   └── HomeController.java
    │   │           └── Global.java
    │   ├── resources
    │   │   └── conf
    │   │       └── config.xml
    │   └── webapp
    │       ├── index.jsp
    │       ├── static
    │       └── WEB-INF
    │           ├── views
    │           │   └── index.html
    │           └── web.xml
    └── test
        ├── java
        └── resources
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;api&quot;&gt;补充api配置和目录&lt;/h2&gt;

&lt;p&gt;我们先创建api专用包和api配置文件。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; cd demo
$&amp;gt; mkdir src/main/java/leap/api/controller -p
$&amp;gt; echo &amp;gt;&amp;gt; src/main/resources/conf/apis.xml
$&amp;gt; echo &amp;gt;&amp;gt; src/main/java/leap/api/controller/ApiDemoController.java
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt; 这里api配置的路径是leap的默认路径，不能改变，但是api专用包的包名是可以按照实际情况自己定义的。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;现在完整的目录结构如下：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;demo/
├── pom.xml
└── src
    ├── main
    │   ├── java
    │   │   └── leap
    │   │       ├── api
    │   │       │   └── controller
    │   │       │       └── ApiDemoController.java
    │   │       └── demo
    │   │           ├── controller
    │   │           │   └── HomeController.java
    │   │           └── Global.java
    │   ├── resources
    │   │   └── conf
    │   │       ├── apis.xml
    │   │       └── config.xml
    │   └── webapp
    │       ├── index.jsp
    │       ├── static
    │       └── WEB-INF
    │           ├── views
    │           │   └── index.html
    │           └── web.xml
    └── test
        ├── java
        └── resources
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section&quot;&gt;修改配置和添加代码&lt;/h2&gt;

&lt;p&gt;编辑src/main/resources/conf/apis.xml&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;apis&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xmlns=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.leapframework.org/schema/web/apis&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;&amp;lt;!--
                name: api名称，必填
                base-path: api的上下文根路径，非必填
                base-package: api的扫描包路径，非必填
        --&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;api&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;demo-api&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;base-path=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/demo-api&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;base-package=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;leap.api&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/apis&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;注意，这里我们说的api，指的是一组url组合的一个功能服务，而不是平时说的一个rest api接口。&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;api的配置最好遵从如下规则：&lt;/p&gt;

  &lt;ol&gt;
    &lt;li&gt;
      &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;base-path&lt;/code&gt;不要存在嵌套关系，如：最好不要出现&lt;code class=&quot;highlighter-rouge&quot;&gt;base-path=&quot;/&quot;&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;base-path=&quot;/api1&quot;&lt;/code&gt;的两个api配置；&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;base-package&lt;/code&gt;不能是&lt;code class=&quot;highlighter-rouge&quot;&gt;config.xml&lt;/code&gt;中的&lt;code class=&quot;highlighter-rouge&quot;&gt;base-package&lt;/code&gt;的子包，在这里也就是最好不要是&lt;code class=&quot;highlighter-rouge&quot;&gt;leap.demo&lt;/code&gt;的子包；&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;如果api的包就是&lt;code class=&quot;highlighter-rouge&quot;&gt;config.xml&lt;/code&gt;中的&lt;code class=&quot;highlighter-rouge&quot;&gt;base-package&lt;/code&gt;的子包，那么可以不要配置api的&lt;code class=&quot;highlighter-rouge&quot;&gt;base-package&lt;/code&gt;，直接配置&lt;code class=&quot;highlighter-rouge&quot;&gt;base-path&lt;/code&gt;自动匹配&lt;code class=&quot;highlighter-rouge&quot;&gt;leap.demo&lt;/code&gt;中的url即可。&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;p&gt;编辑src/main/java/leap/api/controller/ApiDemoController.java&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;leap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;leap.web.annotation.Path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;leap.web.annotation.http.GET&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;leap.web.api.mvc.ApiController&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;leap.web.api.mvc.ApiResponse&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nd&quot;&gt;@Path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/api&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ApiDemoController&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ApiController&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@GET&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ApiResponse&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ApiModel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getModel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ApiResponse&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ApiModel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;api model&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ApiModel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ApiModel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;修改pom.xml，添加api模块的依赖:&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.leapframework&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;leap-webapi&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.4.0b-SNAPSHOT&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;现在运行：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; mvn jetty:run -Djetty.port=8888
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;在浏览器中访问如下地址：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://localhost:8888/demo-api/swagger.json
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;可以看到这个json:&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;swagger&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2.0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;info&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;demo-api&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1.0&quot;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;host&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.200.84.2:8080&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;basePath&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/demo-api&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;consumes&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;application/json&quot;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;produces&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;application/json&quot;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;paths&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;/api&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;s2&quot;&gt;&quot;get&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;operationId&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;getModel&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;responses&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;s2&quot;&gt;&quot;200&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;summary&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Success&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;schema&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;s2&quot;&gt;&quot;$ref&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;#/definitions/ApiModel&quot;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;definitions&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;ApiModel&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;s2&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;object&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ApiModel&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;s2&quot;&gt;&quot;properties&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;s2&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;string&quot;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;说明json已经正常生成，api的开发环境搭建完成，现在只要直接把工程导入ide即可开始开发了，关于API更详细的配置，请参考官方文档。&lt;/p&gt;</content><author><name>Kael</name></author><category term="api,快速开始,工程搭建" /><summary>快速搭建api开发环境</summary></entry><entry><title>leap性能测试</title><link href="http://localhost:4000/leap0.1.0-BETA%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/" rel="alternate" type="text/html" title="leap性能测试" /><published>2016-01-08T00:00:00+08:00</published><updated>2016-01-08T00:00:00+08:00</updated><id>http://localhost:4000/leap0.1.0-BETA性能测试</id><content type="html" xml:base="http://localhost:4000/leap0.1.0-BETA%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">&lt;p&gt;leap 0.1.0-SNAPSHOT版本的性能测试。&lt;/p&gt;

&lt;p&gt;目前在开源框架中比较流行的几个开发框架:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;mvc框架:spring mvc,struts2&lt;/li&gt;
  &lt;li&gt;orm框架:hibernate,mybatis&lt;/li&gt;
  &lt;li&gt;模板引擎:velocity,beetl,thymeleaf&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;使用较多的开发框架多数是由以上框架组合而成的,因此我们在这里选用框架组合来和leap进行性能对比.&lt;/p&gt;

&lt;p&gt;这里我们比较leap和spring mvc+mybatis+velocity(smv)的性能.&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;测试方法&lt;/h2&gt;

&lt;hr /&gt;

&lt;p&gt;采用相同的业务逻辑,在相同的并发压力下,分别测试5次,为了减弱网络环境和其他波动的影响,去除5个数据中最好的成绩和最差的成绩,对剩余的数据进行统计对比.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;注意: 
由于jmeter2.2的聚合报告中,对多次测试的结果进行统计时吞吐量的计算存在bug,因此在最终的计算结果中,吞吐量我们采取手动计算的方式,计算方法为把最终对比的数据的三组数据的吞吐量求平均值作为最终的吞吐量值&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;section-1&quot;&gt;测试结果&lt;/h2&gt;

&lt;hr /&gt;

&lt;p&gt;在测试中发现,无论是单独模块的测试,还是全栈的测试,leap和smv之间的性能都是非常接近的.&lt;/p&gt;

&lt;p&gt;图形结果如下(吞吐量表示每秒处理的请求数):&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2016-01-08-performance1.png&quot; alt=&quot;性能对比图&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;从结果图中我们可以看出,leap各方面的性能都跟smv非常接近。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;下面是具体的测试过程和结果数据.&lt;/p&gt;

&lt;h3 id=&quot;leap-vs-smv&quot;&gt;leap VS. smv&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;业务逻辑:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;MVC请求分发,参数绑定,包括简单参数类型绑定,复合参数类型绑定和集合参数类型绑定&lt;/li&gt;
      &lt;li&gt;orm插入记录,更新记录,删除记录,动态查询,普通查询&lt;/li&gt;
      &lt;li&gt;模板引擎对象属性渲染,数值计算,循环,判断分支,字符串拼接,变量定义等&lt;/li&gt;
      &lt;li&gt;并发压力:1000个请求在10秒内发完,平均每秒100个并发,一共1000个请求.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;结果数据&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;框架&lt;/th&gt;
      &lt;th&gt;平均响应时间/ms&lt;/th&gt;
      &lt;th&gt;90% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;95% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;吞吐量/sec&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;leap&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
      &lt;td&gt;30&lt;/td&gt;
      &lt;td&gt;231&lt;/td&gt;
      &lt;td&gt;91.6&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;smv&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;265&lt;/td&gt;
      &lt;td&gt;92.2&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;a href=&quot;#&quot;&gt;查看结果数据&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;从结果数据中我们可以看到:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;ol&gt;
    &lt;li&gt;leap的平均时间比smv小约8%&lt;/li&gt;
    &lt;li&gt;leap的吞吐量和smv的吞吐量非常接近&lt;/li&gt;
    &lt;li&gt;leap的90%的响应时间小于30ms,而smv90%的请求响应时间小于31ms,也非常接近&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;p&gt;全栈leap比smv的平均性能高出大约8%,而吞吐量非常接近,这可能是由于两个模板引擎对模板解析的细微字节差异导致的,因此可以认为两者性能是接近的。&lt;/p&gt;

&lt;p&gt;结论:
&lt;strong&gt;根据上述测试数据的结果,我们可以认为leap的全栈性能与spring+mybatis+velocity非常接近。&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;spring-mvc-vs-leap-mvc&quot;&gt;spring mvc VS. leap mvc&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;业务逻辑:测试请求分发,简单参数类型绑定,复合参数类型绑定和集合参数类型绑定还有json结果返回.&lt;/li&gt;
  &lt;li&gt;并发压力:5000个请求在10秒内发完,平均每秒500个并发.针对两个接口,一个参数绑定,一个json返回,一共10000个请求.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;结果数据&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;框架&lt;/th&gt;
      &lt;th&gt;平均响应时间/ms&lt;/th&gt;
      &lt;th&gt;90% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;95% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;吞吐量/sec&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;spring mvc&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;73&lt;/td&gt;
      &lt;td&gt;157&lt;/td&gt;
      &lt;td&gt;564.8&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;leap mvc&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;44&lt;/td&gt;
      &lt;td&gt;119&lt;/td&gt;
      &lt;td&gt;557.2&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;a href=&quot;#&quot;&gt;查看详细数据&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;从结果数据中我们可以看到:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;leapmvc和springmvc在500个并发下的平均响应时间是非常接近的,说明两者的平均性能非常接近.&lt;/li&gt;
    &lt;li&gt;leapmvc和springmvc在500个并发下的吞吐量也是十分接近.&lt;/li&gt;
    &lt;li&gt;springmvc 90%的请求响应时间在73ms内,而leap mvc在44ms内,leap 90%的请求响应时间比spring mvc更加优秀&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;结论:
&lt;strong&gt;leap mvc和spring mvc的平均性能在500个并发下是非常接近的.,但是leap mvc的90%响应速度比spring更加优秀。&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;leap-orm-vs-mybatis&quot;&gt;leap orm VS. mybatis&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;业务逻辑:测试数据插入,更新,删除,动态sql查询和联表查询以及查询结果的对象映射&lt;/li&gt;
  &lt;li&gt;并发压力:1000个请求在10秒内发完,平均每秒100个并发,一共1000个请求&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;结果数据&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;框架&lt;/th&gt;
      &lt;th&gt;平均响应时间/ms&lt;/th&gt;
      &lt;th&gt;90% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;95% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;吞吐量/sec&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;leap orm&lt;/td&gt;
      &lt;td&gt;52&lt;/td&gt;
      &lt;td&gt;113&lt;/td&gt;
      &lt;td&gt;287&lt;/td&gt;
      &lt;td&gt;93.5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;mybatis&lt;/td&gt;
      &lt;td&gt;64&lt;/td&gt;
      &lt;td&gt;173&lt;/td&gt;
      &lt;td&gt;333&lt;/td&gt;
      &lt;td&gt;93.0&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;a href=&quot;#&quot;&gt;查看详细数据&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;从结果数据中我们可以看到:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;leap orm的平均时间比mybatis少大约18.7%&lt;/li&gt;
    &lt;li&gt;leap orm的吞吐量与mybatis相近&lt;/li&gt;
    &lt;li&gt;leap orm的90%的响应时间小于113ms,而mybatis 90%的请求响应时间小于173ms&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;结论:
&lt;strong&gt;leap orm的平均性能在100个并发下比mybatis高18.7%,但两者的吞吐量相近,这里应该是受网络等其他因素影响导致细微的误差,因此可以认为两者性能相近,但是leap稍优一点。&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;leap-htpl-vs-velocity&quot;&gt;leap htpl VS. velocity&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;业务逻辑:测试常用的场景,包括对象属性渲染,数值计算,循环,判断分支,字符串拼接,变量定义等&lt;/li&gt;
  &lt;li&gt;并发压力:3000个请求在10秒内发完,平均每秒300个并发,一共3000个请求&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;结果数据&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;框架&lt;/th&gt;
      &lt;th&gt;平均响应时间/ms&lt;/th&gt;
      &lt;th&gt;90% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;95% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;吞吐量/sec&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;leap htpl&lt;/td&gt;
      &lt;td&gt;54&lt;/td&gt;
      &lt;td&gt;149&lt;/td&gt;
      &lt;td&gt;447&lt;/td&gt;
      &lt;td&gt;238.8&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;velocity&lt;/td&gt;
      &lt;td&gt;51&lt;/td&gt;
      &lt;td&gt;91&lt;/td&gt;
      &lt;td&gt;418&lt;/td&gt;
      &lt;td&gt;235.4&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;a href=&quot;#&quot;&gt;查看详细数据&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;从结果数据中我们可以看到:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;leap htpl的平均时间比velocity大5.5%&lt;/li&gt;
    &lt;li&gt;leap htpl的吞吐量比velocity的吞吐量几乎是相等的&lt;/li&gt;
    &lt;li&gt;leap htpl的90%的响应时间小于149ms,而velocity 90%的请求响应时间小于91ms&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;结论:
&lt;strong&gt;leap htpl的平均性能在300个并发下两者性能相差不大,考虑网络波动等因素,可以认为两者性能相近。&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;其他说明&lt;/h2&gt;

&lt;h3 id=&quot;section-3&quot;&gt;测试环境&lt;/h3&gt;

&lt;h4 id=&quot;section-4&quot;&gt;硬件环境&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;环境&lt;/th&gt;
      &lt;th&gt;cpu&lt;/th&gt;
      &lt;th&gt;内存&lt;/th&gt;
      &lt;th&gt;操作系统&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;客户端&lt;/td&gt;
      &lt;td&gt;64位 双核2.5GHz&lt;/td&gt;
      &lt;td&gt;4G&lt;/td&gt;
      &lt;td&gt;CentOS release 6.5 (Final)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;服务器&lt;/td&gt;
      &lt;td&gt;64位 四核2.5GHz&lt;/td&gt;
      &lt;td&gt;8G&lt;/td&gt;
      &lt;td&gt;CentOS release 6.5 (Final)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;数据库&lt;/td&gt;
      &lt;td&gt;64位 四核2.5GHz&lt;/td&gt;
      &lt;td&gt;6G&lt;/td&gt;
      &lt;td&gt;CentOS release 6.5 (Final)&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;section-5&quot;&gt;软件环境&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;应用&lt;/th&gt;
      &lt;th&gt;版本&lt;/th&gt;
      &lt;th&gt;用途&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;jmeter&lt;/td&gt;
      &lt;td&gt;2.2&lt;/td&gt;
      &lt;td&gt;客户端虚拟用户并发&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;tomcat&lt;/td&gt;
      &lt;td&gt;8.0.15&lt;/td&gt;
      &lt;td&gt;web应用容器&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;mysql&lt;/td&gt;
      &lt;td&gt;5.1.73&lt;/td&gt;
      &lt;td&gt;数据库服务器&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;velocity&lt;/td&gt;
      &lt;td&gt;1.7&lt;/td&gt;
      &lt;td&gt;模板引擎&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;mybatis&lt;/td&gt;
      &lt;td&gt;3.2.8&lt;/td&gt;
      &lt;td&gt;orm框架&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;spring&lt;/td&gt;
      &lt;td&gt;4.2.3.RELEASE&lt;/td&gt;
      &lt;td&gt;mvc框架&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;leap&lt;/td&gt;
      &lt;td&gt;0.1.0-SNAPSHOT&lt;/td&gt;
      &lt;td&gt;全栈开发框架&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;section-6&quot;&gt;主流框架模块对比&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;在mvc框架中,spring mvc和struts2的mvc性能已经有人测试过是接近的，参考博文&lt;a href=&quot;http://blog.csdn.net/smallnest/article/details/6424303&quot;&gt;Spring MVC 和Struts2的性能比较&lt;/a&gt;；&lt;/li&gt;
  &lt;li&gt;在orm框架中,mybatis的执行效率稍优于hibernate，参考博文&lt;a href=&quot;http://javapub.iteye.com/blog/883224&quot;&gt;Hibernate3和MyBatis(iBatis)的执行效率比较&lt;/a&gt;；&lt;/li&gt;
  &lt;li&gt;在模板引擎中,thymeleaf的性能已经是公认的瓶颈了，因此不考虑与thymeleaf做比较，而beetl由于编译了静态字节码，在原理上于其他模板引擎不相同，比jsp还要快,因此也不考虑与beetl做比较。&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;section-7&quot;&gt;主流开源框架组合对比&lt;/h4&gt;

&lt;p&gt;实际上在选择各个模块的开源框架前,笔者曾经做过如下比较:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;spring mvc + hibernate + velocity (shv)&lt;/li&gt;
  &lt;li&gt;spring mvc + mybatis + thymeleaf (smt)&lt;/li&gt;
  &lt;li&gt;spring mvc + mybatis + velocity (smv)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;简单测试的方式是1000个请求在10秒内发完，循环5次，相当于每秒100个并发，一共5000个请求。
测试的结果是:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;smv &amp;gt; shv &amp;gt; smt
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;因此这里选用spring mvc + mybatis + velocity与leap进行比较的结果是可以说明leap的性能的。&lt;/p&gt;

&lt;h4 id=&quot;section-8&quot;&gt;服务器参数调整&lt;/h4&gt;

&lt;p&gt;tomcat没有特别的性能调优,只调整了接收请求等参数:&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;Connector&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;acceptCount=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;1000&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;connectionTimeout=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;20000&quot;&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;disableUploadTimeout=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;enableLookups=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;false&quot;&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;maxHttpHeaderSize=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;8192&quot;&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;maxSpareThreads=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;75&quot;&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;maxThreads=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;1000&quot;&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;minSpareThreads=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;25&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;port=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;8080&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;protocol=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;HTTP/1.1&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;redirectPort=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;8443&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;mysql做了少量优化,可以在附件中下载mysql的配置文件my.ini。&lt;/p&gt;

&lt;h2 id=&quot;section-9&quot;&gt;详细数据&lt;/h2&gt;

&lt;p&gt;在结果数据中,我们主要关注如下几个字段:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Average:平均响应时间;&lt;/li&gt;
  &lt;li&gt;90%Line:90%的请求响应时间,即90%的请求在这个时间内响应&lt;/li&gt;
  &lt;li&gt;throughput:吞吐量,表示应用每秒处理的请求数&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;spring-mvc-vs-leap-mvc-1&quot;&gt;spring mvc VS. leap mvc&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;spring mvc&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;5组数据如下:
第1组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481279916017.jpg&quot; alt=&quot;第1组数&quot; title=&quot;1481279916017.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第2组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481280058853.jpg&quot; alt=&quot;第2组数据&quot; title=&quot;1481280058853.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第3组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481280092631.jpg&quot; alt=&quot;第3组数据&quot; title=&quot;1481280092631.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第4组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481280107400.jpg&quot; alt=&quot;第4组数据&quot; title=&quot;1481280107400.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第5组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481280115887.jpg&quot; alt=&quot;第5组数据&quot; title=&quot;1481280115887.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这里我们可以看到, 第1组数据的平均响应时间最大,第2组数据的平均响应时间最小,去除这两组数据,我们以第3,4,5三组数据统计,一共30000个样本,统计结果如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481280141525.jpg&quot; alt=&quot;统计数据&quot; title=&quot;1481280141525.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;leap mvc&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;5组数据如下:
第1组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481280194083.jpg&quot; alt=&quot;第1组数据&quot; title=&quot;1481280194083.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第2组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481280200444.jpg&quot; alt=&quot;第2组数据&quot; title=&quot;1481280200444.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第3组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481280205121.jpg&quot; alt=&quot;第3组数据&quot; title=&quot;1481280205121.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第4组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481280209389.jpg&quot; alt=&quot;第4组数据&quot; title=&quot;1481280209389.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第5组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481280214251.jpg&quot; alt=&quot;第5组数据&quot; title=&quot;1481280214251.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这里我们可以看到,第1组数据平均响应时间最大,第5组数据平均响应时间最小,去除这两组数据,我们以第2,3,4三组数据统计,一共30000个样本,统计结果如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481280663754.jpg&quot; alt=&quot;统计结果&quot; title=&quot;1481280663754.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;我们对吞吐量的结果计算如下:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;spring:throughput = (563.8+542.9+587.8)/3=564.8
leap: throughput = (599.3+535.7+536.5)/3=557.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;提取我们关注的数据如下:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;框架&lt;/th&gt;
      &lt;th&gt;平均响应时间/ms&lt;/th&gt;
      &lt;th&gt;90% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;95% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;吞吐量/sec&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;spring mvc&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;73&lt;/td&gt;
      &lt;td&gt;157&lt;/td&gt;
      &lt;td&gt;564.8&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;leap mvc&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;44&lt;/td&gt;
      &lt;td&gt;119&lt;/td&gt;
      &lt;td&gt;557.2&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;leap-orm-vs-mybatis-1&quot;&gt;leap orm VS. mybatis&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;leap orm&lt;/strong&gt;
5组数据如下:
第1组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281053954.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281053954.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第2组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281059356.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281059356.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第3组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281064988.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281064988.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第4组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281071216.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281071216.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第5组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281079156.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281079156.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这里我们可以看到, 第1组数据的平均响应时间最大,第3组数据的平均响应时间最小,去除这两组数据,我们以第2,4,5三组数据统计,一共3000个样本,统计结果如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281291689.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281291689.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;mybatis&lt;/strong&gt;
5组数据如下:
第1组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281086177.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281086177.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第2组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281092266.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281092266.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第3组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281096394.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281096394.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第4组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281100742.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281100742.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第5组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281105004.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281105004.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这里我们可以看到, 第1组数据的平均响应时间最大,第4组数据的平均响应时间最小,去除这两组数据,我们以第2,3,5三组数据统计,一共6000个样本,统计结果如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281110184.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281110184.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;我们对吞吐量的结果计算如下:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;leap: throughput = (93.9+94.0+92.7)/3=93.5
mybatis:throughput = (93.7+92.8+92.6)/3=93.0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;提取我们关注的数据如下:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;框架&lt;/th&gt;
      &lt;th&gt;平均响应时间/ms&lt;/th&gt;
      &lt;th&gt;90% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;95% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;吞吐量/sec&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;leap orm&lt;/td&gt;
      &lt;td&gt;52&lt;/td&gt;
      &lt;td&gt;113&lt;/td&gt;
      &lt;td&gt;287&lt;/td&gt;
      &lt;td&gt;93.5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;mybatis&lt;/td&gt;
      &lt;td&gt;64&lt;/td&gt;
      &lt;td&gt;173&lt;/td&gt;
      &lt;td&gt;333&lt;/td&gt;
      &lt;td&gt;93.0&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;leap-htpl-vs-velocity-1&quot;&gt;leap htpl VS. velocity&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;leap htpl&lt;/strong&gt;
5组数据如下:
第1组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281123316.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281123316.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第2组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281127974.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281127974.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第3组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281132308.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281132308.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第4组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281139198.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281139198.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第5组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281145078.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281145078.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这里我们可以看到, 第1组数据的平均响应时间最大,第4组数据的平均响应时间最小,去除这两组数据,我们以第2,3,5三组数据统计,一共9000个样本,统计结果如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281623451.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281623451.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;velocity&lt;/strong&gt;
5组数据如下:
第1组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281151382.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281151382.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第2组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281156747.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281156747.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第3组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281160594.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281160594.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第4组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281165723.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281165723.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第5组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281169947.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281169947.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这里我们可以看到, 第1组数据的平均响应时间最大,第4组数据的平均响应时间最小,去除这两组数据,我们以第2,3,5三组数据统计,一共9000个样本,统计结果如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281315370.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281315370.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;我们对吞吐量的结果计算如下:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;leap: throughput = (245.7+233.2+237.5)/3=238.8
velocity: throughput = (237.7+236.0+232.4)/3=235.4
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;提取我们关注的数据如下:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;框架&lt;/th&gt;
      &lt;th&gt;平均响应时间/ms&lt;/th&gt;
      &lt;th&gt;90% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;95% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;吞吐量/sec&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;leap htpl&lt;/td&gt;
      &lt;td&gt;54&lt;/td&gt;
      &lt;td&gt;149&lt;/td&gt;
      &lt;td&gt;447&lt;/td&gt;
      &lt;td&gt;238.8&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;velocity&lt;/td&gt;
      &lt;td&gt;51&lt;/td&gt;
      &lt;td&gt;91&lt;/td&gt;
      &lt;td&gt;418&lt;/td&gt;
      &lt;td&gt;235.4&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;leap-vs-smv-1&quot;&gt;leap VS. smv&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;leap&lt;/strong&gt;
5组数据如下:
第1组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281181254.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281181254.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第2组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281185573.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281185573.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第3组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281190925.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281190925.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第4组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281196836.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281196836.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第5组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281202523.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281202523.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这里我们可以看到, 第1组数据的平均响应时间最大,第2组数据的平均响应时间最小,去除这两组数据,我们以第3,4,5三组数据统计,一共3000个样本,统计结果如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281209296.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281209296.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;smv&lt;/strong&gt;
5组数据如下:
第1组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281214449.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281214449.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第2组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281219131.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281219131.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第3组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281224050.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281224050.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第4组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281228675.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281228675.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第5组数据:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281254907.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281254907.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这里我们可以看到, 第1组数据的平均响应时间最大,第2组数据的平均响应时间最小,去除这两组数据,我们以第3,4,5三组数据统计,一共3000个样本,统计结果如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/leap0.1.0performance/1481281263723.jpg&quot; alt=&quot;enter description here&quot; title=&quot;1481281263723.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;我们对吞吐量的结果计算如下:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;leap:throughput=(91.3+91.2+92.4)/3=91.6
smv:throughput=(91.0+93.8+91.8)/3=92.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;提取我们关注的数据如下:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;框架&lt;/th&gt;
      &lt;th&gt;平均响应时间/ms&lt;/th&gt;
      &lt;th&gt;90% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;95% 请求响应时间/ms&lt;/th&gt;
      &lt;th&gt;吞吐量/sec&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;leap&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
      &lt;td&gt;30&lt;/td&gt;
      &lt;td&gt;231&lt;/td&gt;
      &lt;td&gt;91.6&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;smv&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;265&lt;/td&gt;
      &lt;td&gt;92.2&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;section-10&quot;&gt;附件&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;/download/testdata_testplan.zip&quot;&gt;测试结果数据和测试计划&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/download/leap-performance-test-parent.zip&quot;&gt;测试源码&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/download/my.zip&quot;&gt;mysql配置&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;/download/apache-tomcat-8.0.15.zip&quot;&gt;tomcat8.0.15&lt;/a&gt;&lt;/p&gt;

  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>Kael</name></author><summary>leap 0.1.0-SNAPSHOT版本的性能测试。</summary></entry></feed>
